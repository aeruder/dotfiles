#!/bin/bash

unset ALTERNATE_EDITOR

files=("$@")

if false; then
    exe=(vim)
elif which emacsclient 2> /dev/null > /dev/null &&
    emacsclient -e t 2> /dev/null > /dev/null; then
    exe=(emacsclient -q -nw)
    if [ ${#files[@]} = 0 ]; then
      files=(.)
    fi
# elif which code 2> /dev/null > /dev/null; then
#     exe=(code --wait)
elif which nvim 2> /dev/null > /dev/null; then
    exe=(nvim)
else
    exe=(vim)
fi
exec "${exe[@]}" "${files[@]}"
